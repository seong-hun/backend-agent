1. Register user

POST /register
{
  "username": <str>,
  "password": <str>
}
---
201:
{
  "user_id": <str>
}
400:
{
  "error": "username is taken"
}

==================================

2. Login
- Access token is a JWT token that contains user_id info

POST /login
{
  "username": <str>,
  "password": <str>
}
---
200:
{
  "access_token": <str>
}
401:
{
  "error": "invalid credentials"
}

==================================

3. Search users
- Query params are optional

GET /users?name=<str>
---
200:
{
  "users": [
    {
      "id": <str>,
      "username": <str>
    }
  ],
  "total": <int>
}

==================================

4. Create a lab
- User must be logged in (check Authorization header; using Bearer token)
- The newly created lab's owner is the current user

POST /labs
{
  "name": <str>,
  "description": <str>
}
---
201:
{
  "lab_id": <str>
}

==================================

5. Search labs
- `q` matches for both name and description
- `member_ids` contains IDs of all lab members excluding the owner

GET /labs?q=<str>
---
200:
{
  "labs": [
    {
      "id": <str>,
      "owner_id": <str>,
      "name": <str>,
      "description": <str>,
      "member_ids": [<str>]
    }
  ],
  "total": <int>
}

==================================

6. Join a lab
- User must be logged in
- A user can join a lab only once

POST /labs/:id/join
---
200:

401:
{
  "error": "authentication required"
}

404:
{
  "error": "lab not found"
}

409:
{
  "error": "already a member"
}
